v { version=2.9.8 file_version=1.2}
G {}
K {}
V {}
S {}
E {}
N 1090 -370 1090 -90 {lab=q1}
N 850 -120 850 -90 {lab=#net1}
N 790 -60 810 -60 {lab=gnd}
N 790 -60 790 0 {lab=gnd}
N 790 0 850 0 {lab=gnd}
N 850 -30 850 0 {lab=gnd}
N 1090 -30 1090 0 {lab=gnd}
N 1090 0 1150 0 {lab=gnd}
N 1150 -60 1150 0 {lab=gnd}
N 1130 -60 1150 -60 {lab=gnd}
N 730 -890 850 -890 {lab=vdd}
N 850 -890 850 -860 {lab=vdd}
N 850 -890 1090 -890 {lab=vdd}
N 1090 -890 1090 -860 {lab=vdd}
N 1030 0 1090 0 {lab=gnd}
N 640 0 790 0 {lab=gnd}
N 1820 -0 1850 0 {lab=gnd}
N 1380 -30 1380 0 {lab=gnd}
N 290 -390 340 -390 {lab=ptat_int}
N 420 -330 420 0 {lab=gnd}
N 1850 -420 1850 0 {lab=gnd}
N 420 -710 420 -450 {lab=vdd}
N 1850 -750 1850 -540 {lab=vdd}
N 1820 -890 1850 -890 {lab=vdd}
N 1380 -890 1380 -860 {lab=vdd}
N 2330 -890 2330 -860 {lab=vdd}
N 2120 -890 2330 -890 {lab=vdd}
N 2120 -890 2120 -860 {lab=vdd}
N 2330 0 2520 0 {lab=gnd}
N 2520 -30 2520 0 {lab=gnd}
N 2330 -30 2330 0 {lab=gnd}
N 2310 -60 2330 -60 {lab=gnd}
N 2310 -60 2310 0 {lab=gnd}
N 2520 -60 2540 -60 {lab=gnd}
N 2540 -60 2540 0 {lab=gnd}
N 2520 0 2540 0 {lab=gnd}
N 2520 -890 2520 -740 {lab=vdd}
N 2560 -710 2600 -710 {lab=cas}
N 2600 -710 2600 -650 {lab=cas}
N 2520 -650 2600 -650 {lab=cas}
N 2520 -680 2520 -650 {lab=cas}
N 2520 -650 2520 -90 {lab=cas}
N 2500 -710 2520 -710 {lab=vdd}
N 2500 -890 2500 -710 {lab=vdd}
N 2500 -890 2520 -890 {lab=vdd}
N 1850 -890 2120 -890 {lab=vdd}
N 2310 0 2330 0 {lab=gnd}
N 1850 0 2310 0 {lab=gnd}
N 1470 -790 1610 -790 {lab=ctat_int}
N 1970 -600 1970 -480 {lab=ctat_int}
N 1930 -480 1970 -480 {lab=ctat_int}
N 290 -520 290 -390 {lab=ptat_int}
N 290 -520 690 -520 {lab=ptat_int}
N 690 -790 760 -790 {lab=ptat_int}
N 180 -890 420 -890 {lab=vdd}
N 180 0 420 0 {lab=gnd}
N 850 -60 910 -60 { lab=gnd}
N 910 -60 910 0 { lab=gnd}
N 1030 -60 1090 -60 { lab=gnd}
N 1030 -60 1030 0 { lab=gnd}
N 850 0 910 0 {lab=gnd}
N 910 0 1030 0 {lab=gnd}
N 1610 -600 1970 -600 { lab=ctat_int}
N 0 -890 180 -890 { lab=vdd}
N 180 -890 180 -730 { lab=vdd}
N 180 -630 180 0 { lab=gnd}
N 0 0 180 0 { lab=gnd}
N -0 -680 90 -680 { lab=en}
N 420 -710 450 -710 { lab=vdd}
N 450 -890 450 -740 { lab=vdd}
N 1820 -750 1850 -750 { lab=vdd}
N 1820 -890 1820 -780 { lab=vdd}
N 1740 -890 1820 -890 { lab=vdd}
N 420 -890 420 -710 {lab=vdd}
N 1850 -890 1850 -750 {lab=vdd}
N 420 -890 450 -890 {lab=vdd}
N 720 -860 730 -860 { lab=vdd}
N 730 -890 730 -860 { lab=vdd}
N 690 -890 690 -860 { lab=vdd}
N 690 -820 690 -790 { lab=ptat_int}
N 650 -860 660 -860 { lab=vdd}
N 650 -890 650 -860 { lab=vdd}
N 1610 -890 1610 -860 { lab=vdd}
N 1640 -860 1650 -860 { lab=vdd}
N 1650 -890 1650 -860 { lab=vdd}
N 1570 -860 1580 -860 { lab=vdd}
N 1570 -890 1570 -860 { lab=vdd}
N 1610 -820 1610 -790 { lab=ctat_int}
N 690 -890 730 -890 {lab=vdd}
N 2640 -140 2720 -140 { lab=ctl_ptat[4:0]}
N 3270 -890 3270 -860 {lab=vdd}
N 3270 -640 3270 -220 { lab=#net2}
N 3310 -80 3310 0 { lab=gnd}
N 3130 -140 3210 -140 { lab=ctl_ctat[4:0]}
N 1090 -890 1380 -890 {lab=vdd}
N 2780 -890 2780 -860 { lab=vdd}
N 2520 -890 2780 -890 { lab=vdd}
N 2780 -640 2780 -220 { lab=#net3}
N 2920 -890 2920 -860 { lab=vdd}
N 2780 -890 2920 -890 { lab=vdd}
N 2920 -890 3270 -890 { lab=vdd}
N 3410 -890 3410 -860 { lab=vdd}
N 3270 -890 3410 -890 { lab=vdd}
N 2820 -80 2820 0 { lab=gnd}
N 2820 0 3310 0 { lab=gnd}
N 3500 -710 3600 -710 { lab=cas}
N 1320 0 1380 0 {lab=gnd}
N 650 -890 690 -890 {lab=vdd}
N 580 -890 650 -890 {lab=vdd}
N 1570 -890 1610 -890 {lab=vdd}
N 1610 -890 1650 -890 {lab=vdd}
N 1380 -890 1570 -890 {lab=vdd}
N 2540 0 2820 0 { lab=gnd}
N 1380 -500 1380 -410 { lab=#net4}
N 1090 -460 1090 -370 {lab=q1}
N 850 -410 850 -220 {lab=q8}
N 420 0 640 0 {lab=gnd}
N 1580 0 1610 0 {lab=gnd}
N 1610 0 1780 -0 {lab=gnd}
N 1780 -0 1820 -0 {lab=gnd}
N 2330 -890 2500 -890 {lab=vdd}
N 1150 0 1320 0 {lab=gnd}
N 1380 0 1550 -0 {lab=gnd}
N 1550 -0 1580 0 {lab=gnd}
N 2920 -420 3600 -420 { lab=ptat}
N 2820 -420 2820 -220 { lab=ptat}
N 3010 -790 3060 -790 { lab=ptat}
N 3060 -790 3060 -580 { lab=ptat}
N 2920 -580 3060 -580 { lab=ptat}
N 2920 -640 2920 -580 { lab=ptat}
N 2920 -580 2920 -420 { lab=ptat}
N 3310 -470 3310 -220 { lab=ctat}
N 3410 -580 3540 -580 { lab=ctat}
N 3540 -790 3540 -580 { lab=ctat}
N 3500 -790 3540 -790 { lab=ctat}
N 3410 -640 3410 -580 { lab=ctat}
N 3310 -470 3600 -470 { lab=ctat}
N 2420 -60 2480 -60 { lab=#net5}
N 2420 -140 2420 -60 { lab=#net5}
N 2330 -140 2420 -140 { lab=#net5}
N 2330 -140 2330 -90 { lab=#net5}
N 2330 -560 2330 -140 { lab=#net5}
N 2120 -640 2120 -560 { lab=#net5}
N 2120 -560 2330 -560 { lab=#net5}
N 2820 -420 2920 -420 { lab=ptat}
N 3310 -580 3310 -470 { lab=ctat}
N 3310 -580 3410 -580 { lab=ctat}
N 2370 -60 2420 -60 { lab=#net5}
N 2330 -640 2330 -560 { lab=#net5}
N 520 -370 1090 -370 { lab=q1}
N 520 -410 850 -410 { lab=q8}
N 1090 -460 1750 -460 { lab=q1}
N 1380 -500 1750 -500 { lab=#net4}
N 1610 -770 1610 -600 { lab=ctat_int}
N 690 -770 690 -520 { lab=ptat_int}
N 450 -680 450 -510 { lab=#net6}
N 1820 -720 1820 -540 { lab=#net7}
N 560 -810 560 -770 { lab=ptat_int}
N 560 -770 690 -770 { lab=ptat_int}
N 560 -890 560 -870 { lab=vdd}
N 560 -840 580 -840 { lab=vdd}
N 580 -890 580 -840 { lab=vdd}
N 1740 -810 1740 -770 { lab=ctat_int}
N 1610 -770 1740 -770 { lab=ctat_int}
N 1740 -890 1740 -870 { lab=vdd}
N 1720 -840 1740 -840 { lab=vdd}
N 1720 -890 1720 -840 { lab=vdd}
N 1720 -890 1740 -890 { lab=vdd}
N 450 -890 560 -890 {lab=vdd}
N 560 -890 580 -890 {lab=vdd}
N 1610 -790 1610 -770 { lab=ctat_int}
N 690 -790 690 -770 { lab=ptat_int}
N 1650 -890 1720 -890 { lab=vdd}
N 850 -640 850 -610 { lab=#net8}
N 1090 -640 1090 -610 { lab=#net9}
N 1090 -550 1090 -460 { lab=q1}
N 850 -550 850 -410 { lab=q8}
N 1380 -550 1380 -500 { lab=#net4}
N 1380 -640 1380 -610 { lab=#net10}
N 850 -220 850 -180 { lab=q8}
N 1380 -410 1380 -90 { lab=#net4}
C {bandgap_opamp/bandgap_opamp.sym} 420 -390 0 1 {name=x1}
C {bandgap_opamp/bandgap_opamp.sym} 1850 -480 0 0 {name=x2}
C {lab_wire.sym} 760 -790 0 0 {name=l1 sig_type=std_logic lab=ptat_int}
C {lab_wire.sym} 1180 -790 0 1 {name=l2 sig_type=std_logic lab=ptat_int}
C {lab_wire.sym} 1470 -790 0 1 {name=l3 sig_type=std_logic lab=ctat_int}
C {lab_wire.sym} 760 -710 0 0 {name=l4 sig_type=std_logic lab=cas}
C {lab_wire.sym} 1180 -710 0 1 {name=l5 sig_type=std_logic lab=cas}
C {lab_wire.sym} 1470 -710 0 1 {name=l6 sig_type=std_logic lab=cas}
C {lab_wire.sym} 2030 -710 0 0 {name=l7 sig_type=std_logic lab=cas}
C {lab_wire.sym} 2240 -710 0 0 {name=l8 sig_type=std_logic lab=cas}
C {lab_wire.sym} 2030 -790 0 0 {name=l9 sig_type=std_logic lab=ptat_int}
C {lab_wire.sym} 2240 -790 0 0 {name=l10 sig_type=std_logic lab=ctat_int}
C {lab_wire.sym} 2600 -710 0 0 {name=l11 sig_type=std_logic lab=cas}
C {iopin.sym} 0 -890 0 1 {name=p1 lab=vdd}
C {iopin.sym} 0 0 0 1 {name=p2 lab=gnd}
C {opin.sym} 3600 -420 0 0 {name=p3 lab=ptat}
C {opin.sym} 3600 -470 0 0 {name=p4 lab=ctat}
C {opin.sym} 3600 -710 0 0 {name=p5 lab=cas}
C {sky130_fd_pr/pfet_01v8_lvt.sym} 2540 -710 0 1 {name=M8
L=8
W=5
ad="'W * 0.29'" pd="'2 * (W + 0.29)'"
as="'W * 0.29'" ps="'2 * (W + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
nf=1 mult=4
model=pfet_01v8_lvt
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8_lvt.sym} 2350 -60 0 1 {name=M3
L=8
W=7
ad="[expr @W *0.29]" pd="[expr 2*(@W + 0.29)]"
as="[expr @W *0.29]" ps="[expr 2*(@W + 0.29)]"
nrd="[expr 0.29/@W ]" nrs="[expr 0.29/@W ]"
sa=0 sb=0 sd=0
nf=1 mult=2
model=nfet_01v8_lvt
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8_lvt.sym} 2500 -60 0 0 {name=M1
L=8
W=7
ad="[expr @W *0.29]" pd="[expr 2*(@W + 0.29)]"
as="[expr @W *0.29]" ps="[expr 2*(@W + 0.29)]"
nrd="[expr 0.29/@W ]" nrs="[expr 0.29/@W ]"
sa=0 sb=0 sd=0
nf=1 mult=2
model=nfet_01v8_lvt
spiceprefix=X
}
C {spice_probe.sym} 850 -410 0 0 {name=p6 analysis=tran voltage=0.7337}
C {spice_probe.sym} 1090 -500 0 0 {name=p7 analysis=tran voltage=0.7336}
C {spice_probe.sym} 1380 -500 0 0 {name=p8 analysis=tran voltage=0.7336}
C {spice_probe.sym} 1470 -710 0 0 {name=p12 analysis=tran voltage=0.6147}
C {ammeter.sym} 450 -480 0 0 {name=v2 current=7.5997e-06}
C {bandgap_cascurr_cell/bandgap_cascurr_cell.sym} 850 -750 0 0 {name=x5 m=16}
C {bandgap_cascurr_cell/bandgap_cascurr_cell.sym} 1090 -750 0 1 {name=x6 m=16}
C {bandgap_cascurr_cell/bandgap_cascurr_cell.sym} 1380 -750 0 1 {name=x7 m=16}
C {bandgap_cascurr_cell/bandgap_cascurr_cell.sym} 2120 -750 0 0 {name=x10 m=4}
C {bandgap_cascurr_cell/bandgap_cascurr_cell.sym} 2330 -750 0 0 {name=x11 m=4}
C {sky130_fd_pr/pnp_05v5.sym} 830 -60 0 0 {name=Q1
m=8
model=pnp_05v5_W3p40L3p40
spiceprefix=X
}
C {sky130_fd_pr/pnp_05v5.sym} 1110 -60 0 1 {name=Q2
m=1
model=pnp_05v5_W3p40L3p40
spiceprefix=X
}
C {spice_probe.sym} 450 -550 0 1 {name=p11 analysis=tran voltage=0.8189}
C {spice_probe.sym} 1670 -600 0 0 {name=p9 analysis=tran voltage=1.102}
C {bandgap_bmr/bandgap_bmr.sym} 180 -680 0 0 {name=xbmr}
C {sky130_fd_pr/pfet_01v8_lvt.sym} 470 -710 0 1 {name=Mcurr
L=8
W=5
ad="'W * 0.29'" pd="'2 * (W + 0.29)'"
as="'W * 0.29'" ps="'2 * (W + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
nf=1 mult=1
model=pfet_01v8_lvt
spiceprefix=X
}
C {lab_wire.sym} 270 -680 0 1 {name=l12 sig_type=std_logic lab=bmr_biasv}
C {lab_wire.sym} 490 -710 0 1 {name=l13 sig_type=std_logic lab=bmr_biasv}
C {sky130_fd_pr/pfet_01v8_lvt.sym} 1800 -750 0 0 {name=Mcurr1
L=8
W=5
ad="'W * 0.29'" pd="'2 * (W + 0.29)'"
as="'W * 0.29'" ps="'2 * (W + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
nf=1 mult=1
model=pfet_01v8_lvt
spiceprefix=X
}
C {lab_wire.sym} 1780 -750 0 0 {name=l14 sig_type=std_logic lab=bmr_biasv}
C {sky130_fd_pr/pfet_01v8_lvt.sym} 690 -840 1 1 {name=Mcurr2
L=8
W=7
ad="'W * 0.29'" pd="'2 * (W + 0.29)'"
as="'W * 0.29'" ps="'2 * (W + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
nf=1 mult=16
model=pfet_01v8_lvt
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8_lvt.sym} 1610 -840 1 1 {name=Mcurr3
L=8
W=7
ad="'W * 0.29'" pd="'2 * (W + 0.29)'"
as="'W * 0.29'" ps="'2 * (W + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
nf=1 mult=48
model=pfet_01v8_lvt
spiceprefix=X
}
C {bandgap_trim/bandgap_trim.sym} 2740 -100 0 0 {name=x3}
C {lab_wire.sym} 2690 -790 0 0 {name=l15 sig_type=std_logic lab=ptat_int}
C {lab_wire.sym} 2690 -710 0 0 {name=l16 sig_type=std_logic lab=cas}
C {bandgap_cascurr_cell/bandgap_cascurr_cell.sym} 2780 -750 0 0 {name=x9 m=8}
C {lab_wire.sym} 2640 -140 0 1 {name=l19 sig_type=std_logic lab=ctl_ptat[4:0]}
C {bandgap_trim/bandgap_trim.sym} 3230 -100 0 0 {name=x13}
C {lab_wire.sym} 3180 -790 0 0 {name=l21 sig_type=std_logic lab=ctat_int}
C {lab_wire.sym} 3180 -710 0 0 {name=l22 sig_type=std_logic lab=cas}
C {bandgap_cascurr_cell/bandgap_cascurr_cell.sym} 3270 -750 0 0 {name=x14 m=8}
C {lab_wire.sym} 3130 -140 0 1 {name=l23 sig_type=std_logic lab=ctl_ctat[4:0]}
C {ipin.sym} 0 -680 0 0 {name=p10 lab=en}
C {ipin.sym} 0 -400 0 0 {name=p13 lab=ctl_ptat[4:0]}
C {ipin.sym} 0 -360 0 0 {name=p14 lab=ctl_ctat[4:0]}
C {lab_wire.sym} 3010 -710 0 1 {name=l18 sig_type=std_logic lab=cas}
C {bandgap_cascurr_cell/bandgap_cascurr_cell.sym} 2920 -750 0 1 {name=x4 m=16}
C {lab_wire.sym} 3500 -710 0 1 {name=l17 sig_type=std_logic lab=cas}
C {bandgap_cascurr_cell/bandgap_cascurr_cell.sym} 3410 -750 0 1 {name=x12 m=16}
C {spice_probe.sym} 690 -520 0 1 {name=p15 analysis=tran voltage=1.153}
C {lab_wire.sym} 850 -310 0 1 {name=l20 sig_type=std_logic lab=q8}
C {lab_wire.sym} 1090 -320 0 1 {name=l24 sig_type=std_logic lab=q1}
C {sky130_fd_pr/pfet_01v8_lvt.sym} 540 -840 0 0 {name=Mswen1
L=0.35
W=0.42
ad="'W * 0.29'" pd="'2 * (W + 0.29)'"
as="'W * 0.29'" ps="'2 * (W + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
nf=1 mult=1
model=pfet_01v8_lvt
spiceprefix=X
}
C {lab_wire.sym} 520 -840 0 0 {name=l25 sig_type=std_logic lab=en}
C {sky130_fd_pr/pfet_01v8_lvt.sym} 1760 -840 0 1 {name=Mswen2
L=0.35
W=0.42
ad="'W * 0.29'" pd="'2 * (W + 0.29)'"
as="'W * 0.29'" ps="'2 * (W + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
nf=1 mult=1
model=pfet_01v8_lvt
spiceprefix=X
}
C {lab_wire.sym} 1780 -840 0 1 {name=l26 sig_type=std_logic lab=en}
C {ammeter.sym} 1090 -580 0 0 {name=Vmeas1}
C {ammeter.sym} 850 -580 0 0 {name=Vmeas8}
C {ammeter.sym} 1380 -580 0 0 {name=Vmeasc}
C {res.sym} 850 -150 0 0 {name=R1
value=6.624k
footprint=1206
device=resistor
m=1}
C {res.sym} 1380 -60 0 0 {name=R2
value=51.16k
footprint=1206
device=resistor
m=1}
